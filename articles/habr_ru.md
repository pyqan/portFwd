# PortFwd ‚Äî TUI –º–µ–Ω–µ–¥–∂–µ—Ä port-forward –¥–ª—è Kubernetes, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –∑–∞—Å–ª—É–∂–∏–ª–∏

![PortFwd](https://img.shields.io/badge/Go-1.21+-00ADD8?style=flat&logo=go)
![Kubernetes](https://img.shields.io/badge/Kubernetes-ready-326CE5?style=flat&logo=kubernetes)

–ü—Ä–∏–≤–µ—Ç, –•–∞–±—Ä! –•–æ—á—É –ø–æ–¥–µ–ª–∏—Ç—å—Å—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π —Ä–æ–¥–∏–ª—Å—è –∏–∑ –±–æ–ª–∏ –∫–∞–∂–¥–æ–≥–æ, –∫—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Kubernetes ‚Äî **PortFwd**.

## –ü—Ä–æ–±–ª–µ–º–∞

–ï—Å–ª–∏ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å Kubernetes, —Ç–æ –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ –∑–Ω–∞–∫–æ–º—ã —Å —ç—Ç–∏–º:

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1
kubectl port-forward svc/postgres 5432:5432 -n database

# –¢–µ—Ä–º–∏–Ω–∞–ª 2  
kubectl port-forward svc/redis 6379:6379 -n cache

# –¢–µ—Ä–º–∏–Ω–∞–ª 3
kubectl port-forward pod/my-app-7f8d9 8080:8080 -n development

# –¢–µ—Ä–º–∏–Ω–∞–ª 4... 5... 6...
```

–ê –ø–æ—Ç–æ–º:
- –ö–∞–∫–æ–π —Ç–µ—Ä–º–∏–Ω–∞–ª –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∫–∞–∫–æ–π —Ñ–æ—Ä–≤–∞—Ä–¥?
- –£–ø–∞–ª–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ ‚Äî –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
- –ü–µ—Ä–µ–∫–ª—é—á–∏–ª–∏—Å—å –Ω–∞ –¥—Ä—É–≥–æ–π –ø—Ä–æ–µ–∫—Ç ‚Äî –Ω—É–∂–Ω–æ –≤—Å—ë –∑–∞–Ω–æ–≤–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å
- –ö–æ–ª–ª–µ–≥–∞ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç "–∫–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ?" ‚Äî –¥–∏–∫—Ç—É–µ—Ç–µ –∫–æ–º–∞–Ω–¥—É –ø–æ –±—É–∫–≤–∞–º

## –†–µ—à–µ–Ω–∏–µ

**PortFwd** ‚Äî —ç—Ç–æ TUI (Terminal User Interface) –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è kubectl port-forward —Å —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–º –ª–∏—Ü–æ–º.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### üéØ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä —Ä–µ—Å—É—Ä—Å–æ–≤
–ù–∏–∫–∞–∫–∏—Ö –¥–ª–∏–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ ‚Äî –ø—Ä–æ—Å—Ç–æ –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Å—Ç—Ä–µ–ª–∫–∞–º–∏:
- Namespace ‚Üí Resource Type (Pod/Service) ‚Üí –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ—Å—É—Ä—Å ‚Üí –ü–æ—Ä—Ç—ã

#### üìä –í—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
–í–∏–¥–∏—Ç–µ —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö port-forward –Ω–∞ –æ–¥–Ω–æ–º —ç–∫—Ä–∞–Ω–µ:
```
‚îå‚îÄ Connections ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚óè longhorn-system/svc/longhorn-frontend  8080‚Üí80  ‚îÇ
‚îÇ ‚óè database/svc/postgres                  5432‚Üí5432‚îÇ
‚îÇ ‚óã cache/svc/redis (stopped)              6379‚Üí6379‚îÇ
‚îÇ ‚úó dev/pod/api-server (error)             3000‚Üí3000‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π
–ó–∞–∫—Ä—ã–ª–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª? –ù–µ –ø—Ä–æ–±–ª–µ–º–∞! –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ –≤—Å–µ –≤–∞—à–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ü—Ä–∏—á—ë–º –∞–∫—Ç–∏–≤–Ω—ã–µ ‚Äî –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞—Ç—Å—è, –∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ ‚Äî –æ—Å—Ç–∞–Ω—É—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞.

#### üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤
–ü—Ä–∏ –≤—ã–±–æ—Ä–µ Service –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–∑–æ–ª–≤–∏—Ç `targetPort`. –í—ã–±—Ä–∞–ª–∏ —Å–µ—Ä–≤–∏—Å —Å –ø–æ—Ä—Ç–æ–º 80, –∞ –≤ –ø–æ–¥–µ —Å–ª—É—à–∞–µ—Ç 8000? PortFwd —Å–∞–º —ç—Ç–æ –ø–æ–π–º—ë—Ç.

#### üìù –û—Ç–¥–µ–ª—å–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
–ù–∞–∂–º–∏—Ç–µ `l` –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ ‚Äî —É–≤–∏–¥–∏—Ç–µ –µ–≥–æ –ª–æ–≥–∏. –ù–∏–∫–∞–∫–æ–π –∫–∞—à–∏ –∏–∑ –≤—ã–≤–æ–¥–æ–≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–≤–∞—Ä–¥–æ–≤.

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º
git clone https://github.com/yourusername/portfwd
cd portfwd

# –°–æ–±–∏—Ä–∞–µ–º
go build -o portfwd .

# –ò–ª–∏ —Å—Ä–∞–∑—É –≤ PATH
go install .
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫
./portfwd

# –ò–ª–∏ –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –≤ PATH
portfwd
```

### –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

| –ö–ª–∞–≤–∏—à–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|---------|----------|
| `n` | –ù–æ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ |
| `d` | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω–æ–µ |
| `r` | –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å |
| `x` | –£–¥–∞–ª–∏—Ç—å –∏–∑ —Å–ø–∏—Å–∫–∞ |
| `l` | –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ |
| `?` | –°–ø—Ä–∞–≤–∫–∞ |
| `q` | –í—ã—Ö–æ–¥ |

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

–ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º:
- **Go** ‚Äî –¥–ª—è –Ω–∞—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å Kubernetes API
- **Bubble Tea** ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è TUI –æ—Ç Charm
- **client-go** ‚Äî –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Kubernetes –∫–ª–∏–µ–Ω—Ç
- **SPDY** ‚Äî –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ port-forward —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (–∫–∞–∫ –≤ kubectl)

–ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ—Ç –∂–µ –º–µ—Ö–∞–Ω–∏–∑–º, —á—Ç–æ –∏ `kubectl port-forward`:
```go
req := clientset.CoreV1().RESTClient().Post().
    Resource("pods").
    Namespace(namespace).
    Name(podName).
    SubResource("portforward")
```

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**Graceful Shutdown**: –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å–Ω–∞—á–∞–ª–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∑–∞—Ç–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ context cancellation.

**Service ‚Üí Pod —Ä–µ–∑–æ–ª–≤–∏–Ω–≥**: –î–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è backing pod –ø–æ selector, –∞ —Ç–∞–∫–∂–µ —Ä–µ–∑–æ–ª–≤–∏—Ç—Å—è targetPort (–≤–∫–ª—é—á–∞—è named ports).

**IPv4 only**: –ü—Ä–∏–≤—è–∑–∫–∞ –∫ `127.0.0.1` –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å IPv6 –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö.

### –ß—Ç–æ –¥–∞–ª—å—à–µ?

–í –ø–ª–∞–Ω–∞—Ö:
- [ ] –ü—Ä–æ—Ñ–∏–ª–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –ø—Ä–æ–µ–∫—Ç–∞–º–∏
- [ ] –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö kubeconfig

### –°—Å—ã–ª–∫–∏

- GitHub: [github.com/yourusername/portfwd](https://github.com/yourusername/portfwd)
- Issues –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è!

---

–ï—Å–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ–∫–∞–∑–∞–ª—Å—è –ø–æ–ª–µ–∑–Ω—ã–º ‚Äî –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥—É –Ω–∞ GitHub. –≠—Ç–æ –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞!

**P.S.** –ü–∏—Å–∞–ª –¥–ª—è —Å–µ–±—è, –Ω–æ —Ä–µ—à–∏–ª –ø–æ–¥–µ–ª–∏—Ç—å—Å—è —Å —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º. –ë—É–¥—É —Ä–∞–¥ —Ñ–∏–¥–±–µ–∫—É –∏ –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ü–∏—è–º!

---
*–¢–µ–≥–∏: kubernetes, devops, go, tui, port-forward, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã*
